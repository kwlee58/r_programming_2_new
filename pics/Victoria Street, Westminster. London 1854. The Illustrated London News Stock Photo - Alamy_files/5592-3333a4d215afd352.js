(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5592],{40402:function(e,t,r){"use strict";r.d(t,{u_:function(){return f},r6:function(){return h},Lt:function(){return u.y}});var a=r(82729),n=r(85893),o=r(15483),i=r(31420),l=r(67814),s=r(93967),c=r.n(s),d=r(26793),u=r(13017),m=r(85950),p=r.n(m);let h=e=>{let{className:t,children:r,ruled:a}=e;return(0,n.jsx)("h4",{className:c()("mb-2 font-bold text-lg text-center md:text-left mt-5 md:mt-0 text-grey-black",a&&"border-b pb-4 border-grey-mid",t),children:r})};function v(){let e=(0,a._)(["language.close"]);return v=function(){return e},e}let f=e=>{let{children:t,className:r,transition:a=u.y.Zoom,large:s=!1,overlayClassName:m,...h}=e,{t:f}=(0,d.$)();return(0,n.jsx)(u.B,{...h,transition:a,className:c()(m,"md:p-10"),children:(0,n.jsxs)("div",{className:c()(p().modal,s&&p().large,"bg-white p-4 md:px-10 md:py-8 md:rounded-md overflow-auto shadow-md size-full md:size-auto box-border",r),"data-testid":"popup",children:[(0,n.jsx)(o.TRl,{variant:"dark",className:"mx-auto md:hidden"}),(0,n.jsx)("button",{className:"absolute text-2xl text-grey-mid right-5 top-3 md:right-10 md:top-8 hover:text-navy transition-colors",title:f(v()),onClick:h.onHide,children:(0,n.jsx)(l.G,{className:"fill-current",icon:i.NB})}),t]})})}},80029:function(e,t,r){"use strict";r.d(t,{LX:function(){return l},qV:function(){return s},yV:function(){return n}});var a,n,o=r(51624),i=r.n(o);let l=300;(a=n||(n={})).Zoom="zoom",a.Fade="fade",a.SlideDown="slide-down",a.Flyout="flyout",a.MobileReverseFlyout="mobile-reverse-flyout";let s={fade:{base:"transition-opacity",entering:"opacity-0",entered:"opacity-100",exiting:"opacity-0",exited:"opacity-0"},zoom:{base:i().zoom,entering:"scale-105 opacity-0",entered:"scale-100 opacity-1",exiting:"scale-105 opacity-0"},"slide-down":{base:"transition-transform",entering:i()["slide-top-out"],entered:"translate-y-0",exiting:i()["slide-top-out"]},flyout:{base:"absolute top-0 transition-transform right-0 transform",entering:"translate-x-full",entered:"translate-x-0",exiting:"translate-x-full"},"mobile-reverse-flyout":{base:"fixed top-0 transform transition-transform left-0 2xl:right-0 2xl:left-auto",entering:"-translate-x-full 2xl:translate-x-full",entered:"translate-x-0",exiting:"-translate-x-full 2xl:translate-x-full"}}},13017:function(e,t,r){"use strict";r.d(t,{B:function(){return m},y:function(){return c.yV}});var a=r(85893),n=r(93967),o=r.n(n),i=r(67294),l=r(26273),s=r(66791),c=r(80029),d=r(80703);let u=(e,t)=>o()("duration-".concat(c.LX),t.base,t[e]),m=e=>{let{show:t,onHide:r,children:n,transition:m=c.yV.Fade,alwaysRendered:p=!1,className:h,...v}=e,f=(0,i.useRef)(null),g=n.props,y=e=>r(e),w=c.qV[c.yV.Fade],b=c.qV[m];(0,s.Z)("keydown",e=>{t&&"Escape"===e.key&&y(e)});let x=()=>{t&&f.current&&f.current.focus()},C=(0,a.jsx)(l.ZP,{in:t,timeout:{appear:c.LX,exit:c.LX},onEntered:()=>{setTimeout(x,c.LX)},unmountOnExit:!p,children:e=>{let t=u(e,w),r=u(e,b);return(0,a.jsxs)("div",{...v,className:o()("fixed top-0 left-0 flex flex-col items-center size-full box-border z-50","exited"===e&&"pointer-events-none hidden",h),children:[(0,a.jsx)("button",{ref:f,className:o()("fixed left-0 top-0 size-full bg-black bg-opacity-50",t),onClick:y}),(0,i.cloneElement)(n,{...g,className:o()(g.className,r)})]})}});return p?C:(0,a.jsx)(d.X,{children:C})}},38828:function(e,t,r){"use strict";r.d(t,{hE:function(){return k}});var a,n,o=r(82729),i=r(85893),l=r(45429),s=r(15483),c=r(83109),d=r(93967),u=r.n(d),m=r(11163),p=r(67294),h=r(10708),v=r(87536),f=r(26793),g=r(70270),y=r(65688),w=r(9241),b=r(60697),x=r(40402);function C(){let e=(0,o._)(["enterprise-search.download-confirmation-prompt.client-name"]);return C=function(){return e},e}let E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,t,r)=>(e.push({key:r,value:t.id,text:t.name,option:r}),e),[])};(a=n||(n={}))[a.NotMandatory=0]="NotMandatory",a[a.Max=1]="Max",a[a.ISBN=2]="ISBN",a[a.FinanceCode=3]="FinanceCode",a[a.Digits=4]="Digits",a[a.MandatoryWithEmail=5]="MandatoryWithEmail",a[a.Date=6]="Date",a[a.Required=7]="Required";let N={7:{value:!0,message:"enterprise-search.download-confirmation-prompt.fill-out-field"},2:{value:/^(?=(?:\D*\d){10}(?:(?:\D*\d){3})?$)[\d-]+$/,message:"enterprise-search.download-confirmation-prompt.not-valid"},3:{value:/^([a-zA-Z0-9]{1}\/([a-zA-Z0-9]){4}\/([a-zA-Z0-9]){6}\.([a-zA-Z0-9]){4})$/i,message:"enterprise-search.download-confirmation-prompt.not-valid"},4:{value:/^\d{13}$/i,message:"enterprise-search.download-confirmation-prompt.not-valid"},6:{value:/^(0[1-9]|[12][0-9]|3[01])[/](0[1-9]|1[012])[/](19|20)\d\d$/i,message:"enterprise-search.download-confirmation-prompt.not-valid"}},j=e=>{switch(e){case 1:return{maxLength:128,required:N[7]};case 2:return{maxLength:13,pattern:N[2],required:N[7]};case 3:return{pattern:N[3],required:N[7]};case 4:return{pattern:N[4],required:N[7]};case 6:return{pattern:N[6],required:N[7]};default:return{}}},P=(e,t,r)=>{let{t:a}=(0,f.$)();return e.map(e=>{var n,o;let l=(null===(n=r[e.name])||void 0===n?void 0:n.message)?a((null===(o=r[e.name])||void 0===o?void 0:o.message)||""):"";return(0,i.jsx)("div",{className:"mt-5",children:(0,i.jsx)(b.U,{required:!!j(e.validation).required,label:e.description,errorMessage:l,maxLength:j(e.validation).maxLength,...t(e.name,j(e.validation))})},e.name)})},k=e=>{var t,r;let{show:a,onHide:n,userDetails:o,downloadHandler:d,defaultProjectRef:N,isAdditionalDetails:j=!1,product:k}=e,{t:I}=(0,f.$)(),S=(0,m.useRouter)(),D=(null==S?void 0:S.pathname)==="/shopping-cart",[R]=(0,h.Z)([g.Xc]),A=!(null==o?void 0:o.bespokeDetails.length)||(null==o?void 0:o.isAdGroup),T=null==o?void 0:o.bespokeDetails.reduce((e,t)=>({...e,[t.name]:""}),{}),M=A?{reference:N,adClientId:R[g.Xc],...T}:{...T},{register:O,handleSubmit:q,reset:L,formState:_,control:U}=(0,v.cI)({defaultValues:M,shouldFocusError:!1}),V=q(e=>d(e)),{errors:Z}=_,[B,z]=(0,p.useState)(!1),F=(null==k?void 0:k.type)===c.ProductType.Video;p.useEffect(()=>{a&&L(M)},[a]);let H=(0,p.useMemo)(()=>(null==k?void 0:k.restriction)||(null==k?void 0:k.isNews),[k]),W=(0,p.useMemo)(()=>A&&j,[A,j]);return(0,i.jsxs)(x.u_,{alwaysRendered:!0,show:a,onHide:n,overlayClassName:"h-full",className:u()("overflow-hidden flex flex-col max-h-full",{"md:!w-fit":H&&W}),children:[(0,i.jsx)(x.r6,{children:I("enterprise-search.download-confirmation-prompt.title")}),(0,i.jsxs)("div",{className:u()("flex flex-col gap-3 max-h-full overflow-hidden",{"md:flex-row":H&&W}),children:[H&&(0,i.jsx)("div",{className:u()("flex-1 max-h-fit overflow-hidden",{"md:!max-h-[340px] md:w-[350px]":W&&H}),id:"consent-box",children:(0,i.jsx)(l.a7,{data:(0,l.er)(I,D?l.H5.CartProductPopupConsent:F?l.H5.VideoPopupConsent:l.H5.ImagePopupConsent,!0),boxActive:B,handleChange:e=>{z(void 0===e?!B:e)},className:"!pr-2 overflow-hidden h-full",contentWrapper:"pr-2 overflow-auto h-full [&::-webkit-scrollbar-thumb]:bg-gray-700 [&::-webkit-scrollbar-track]:bg-gray-200  [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:rounded-full"})}),(0,i.jsxs)("div",{className:u()("max-h-fit pr-2 overflow-auto h-full [&::-webkit-scrollbar-thumb]:bg-gray-700 [&::-webkit-scrollbar-track]:bg-gray-200  [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:rounded-full",{"md:w-[350px]":W&&H}),children:[(null==o?void 0:o.isAdGroup)?(0,i.jsx)("div",{className:"mt-5",children:(0,i.jsx)(v.Qr,{name:"adClientId",control:U,rules:{required:{value:!0,message:I("enterprise-search.download-confirmation-prompt.enter-client-name")}},render:e=>{var t;return(0,i.jsx)(w.F,{required:!0,options:E(null==o?void 0:o.adUsers),value:e.field.value,onBlur:e.field.onBlur,onChange:e.field.onChange,errorMessage:null===(t=Z.adClientId)||void 0===t?void 0:t.message,label:I(C())})}})}):P((null==o?void 0:o.bespokeDetails)||[],O,Z),W&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"text-base mt-5 md:mt-0",children:I("enterprise-search.download-confirmation-prompt.subtitle")}),(0,i.jsx)("div",{className:"mt-5",id:"more-details",children:(0,i.jsx)(b.U,{required:!0,label:I("enterprise-search.download-confirmation-prompt.placeholder-reference"),errorMessage:null===(t=Z.reference)||void 0===t?void 0:t.message,...O("reference",{required:{value:!0,message:I("enterprise-search.download-confirmation-prompt.enter-reference")}}),defaultValue:N,"data-testid":"download_preference"})}),(0,i.jsx)("div",{className:"mt-5",children:(0,i.jsx)(b.U,{isMultiline:!0,label:I("enterprise-search.download-confirmation-prompt.placeholder-comments"),errorMessage:null===(r=Z.comment)||void 0===r?void 0:r.message,...O("comment",{}),"data-testid":"comments"})})]}),(0,i.jsxs)("div",{className:"flex mt-5 max-h-fit",children:[(0,i.jsx)(s.Yd2,{disabled:!!(((null==k?void 0:k.restriction)||(null==k?void 0:k.isNews))&&!B),primary:!0,size:s.qE.Large,"data-testid":"download-image-button",onClick:e=>{if(B&&(0,y.L9)({action:y.aU.EnableChkBoxDownloadConfirmationPopup,event:y.ju.Click,label:y.D_.DownloadConfirmationPopupCheckboxEnable,category:F?y.WD.VideoPageInteractions:y.WD.ImagePageInteractions}),j){V(e),B&&(0,y.L9)({event:y.ju.Click,action:y.aU.DownloadRestrictionBanner,category:y.WD.ShoppingCartInteractions,label:y.D_.EnableChkboxRestrictionConsent});return}d({},k)},className:"flex items-center justify-center w-full mr-8 font-bold 3xs:text-base",children:I("enterprise-search.download-confirmation-prompt.download")}),(0,i.jsx)(s.Yd2,{onClick:n,size:s.qE.Large,className:"flex items-center justify-center w-full font-bold 3xs:text-base",children:I("enterprise-search.download-confirmation-prompt.cancel")})]})]})]})]})}},66558:function(e,t,r){"use strict";r.d(t,{e:function(){return u},h:function(){return m}});var a=r(85893),n=r(15483),o=r(87536),i=r(26793),l=r(65688),s=r(9001),c=r(60697),d=r(40402);let u="password",m=e=>{var t;let{show:r,onHide:m,onSubmit:p}=e,{t:h}=(0,i.$)(),{register:v,handleSubmit:f,formState:g,setError:y}=(0,o.cI)({shouldFocusError:!1}),{errors:w}=g;return(0,a.jsxs)(d.u_,{alwaysRendered:!0,show:r,onHide:m,children:[(0,a.jsx)(d.r6,{ruled:!0,children:h("enterprise-search.password-confirmation-prompt.title")}),(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"mt-5",children:(0,a.jsx)(c.U,{required:!0,type:"password",label:h("enterprise-search.password-confirmation-prompt.placeholder-password"),"data-testid":"password-input",errorMessage:null===(t=w.password)||void 0===t?void 0:t.message,...v(u,{required:{value:!0,message:h("enterprise-search.password-confirmation-prompt.incorrect-password")}})})})}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("a",{href:"/forgot-password/",target:"_blank",className:"mr-5 text-sm border-0 md:inline-block highlighted-link",children:h("enterprise-search.password-confirmation-prompt.forgot-password")})}),(0,a.jsx)("div",{className:"flex mt-5",children:(0,a.jsx)(n.Yd2,{primary:!0,size:n.qE.Large,onClick:f(e=>{p(e,y),(0,l.L9)({event:s.ju.Click,action:s.aU.CTACLick,category:s.WD.ShoppingCartInteractions,label:s.qB.PasswordConfirmation})}),"data-testid":"confirm-password-button",className:"flex items-center justify-center w-1/2 mr-8 font-bold 3xs:text-base",children:h("enterprise-search.password-confirmation-prompt.continue")})})]})}},93839:function(e,t,r){"use strict";r.d(t,{Zl:function(){return f},oZ:function(){return v},wu:function(){return n}});var a,n,o=r(85893),i=r(45429),l=r(11163),s=r(67294),c=r(10708),d=r(38828),u=r(66558),m=r(70270),p=r(41181),h=r(37087);(a=n||(n={})).AddToCart="add-to-cart",a.BuyNow="buy-now";let v=(0,s.createContext)({cart:{count:0},setCart:()=>{},cartActiveAction:null,whileAddingToCart:()=>Promise.resolve(),whileBuyingNow:()=>Promise.resolve(),downloadHandler:()=>Promise.resolve(),setSelctedProduct:()=>{},setUser:()=>{}}),f=e=>{let{cart:t,children:r}=e,a=(0,l.useRouter)(),{products:n}=(0,s.useContext)(i.oZ),[f,g]=(0,s.useState)(t),[y,w]=(0,h.$)(),[b,x]=(0,h.$)(),[C,E]=(0,s.useState)({}),[N,j]=(0,s.useState)({}),[P,k]=(0,s.useState)(!1),[I,S]=(0,s.useState)(!1),D={isAdGroup:!!(null==N?void 0:N.isAdGroup),adUsers:(null==N?void 0:N.adUsers)||[],bespokeDetails:(null==N?void 0:N.bespokeDetails)||[]},[R]=(0,c.Z)(),{verifySession:A,downloadImageSubmitHandler:T,passwordConfirmationSubmitHandler:M,createBDOHandler:O}=(0,p.q)(C,S,k,!!(null==N?void 0:N.additionalDetails),N,n),q=(null==a?void 0:a.pathname)==="/shopping-cart",L=async()=>{await A((null==N?void 0:N.additionalDetails)?void 0:C)};return(0,s.useEffect)(()=>{g(t)},[t]),(0,o.jsxs)(v.Provider,{value:{cart:f,setCart:g,cartActiveAction:y&&"add-to-cart"||b&&"buy-now"||null,whileAddingToCart:w,whileBuyingNow:x,downloadHandler:L,setSelctedProduct:E,setUser:j},children:[r,(0,o.jsx)(d.hE,{userDetails:D,product:C,show:P,onHide:()=>k(!1),downloadHandler:q?O:T,defaultProjectRef:R[m.WM],isAdditionalDetails:!!(null==N?void 0:N.additionalDetails)}),(0,o.jsx)(u.h,{show:I,onHide:()=>S(!1),onSubmit:M})]})}},78429:function(e,t,r){"use strict";r.d(t,{Y:function(){return i}});var a=r(83109),n=r(67294);let o={layoutData:{currency:a.CurrencyCode.GBP,countryCode:null,contactNumber:"",imageCount:0,isDefaultData:!0}},i=(0,n.createContext)(o)},49782:function(e,t,r){"use strict";r.d(t,{ET:function(){return i},tP:function(){return o}});var a=r(85893),n=r(67294);let o=(0,n.createContext)({lightboxes:[],setLightboxes:()=>{}}),i=e=>{let{lightboxes:t,children:r}=e,[i,l]=(0,n.useState)(t);return(0,n.useEffect)(()=>{l(t)},[t]),(0,a.jsx)(o.Provider,{value:{lightboxes:i,setLightboxes:l},children:r})}},41181:function(e,t,r){"use strict";r.d(t,{q:function(){return D}});var a=r(45429),n=r(98005),o=r(83109),i=r(11163),l=r(80129),s=r(67294),c=r(10708),d=r(26793),u=r(66558),m=r(70270),p=r(8020),h=r(13633),v=r(9001),f=r(18518),g=r(68882),y=r(55419),w=r(35974),b=r(2841),x=r(74561),C=r(61802),E=r(29914),N=r(6309),j=r(23080),P=r(4082),k=r(12433);let I=()=>(0,s.useContext)(k.N).session,S=e=>Object.keys(e).reduce((t,r)=>t?"".concat(t,"^^").concat(r,"||").concat(e[r]):"".concat(r,"||").concat(e[r]),""),D=function(e,t,r){var k,D;let R=arguments.length>3&&void 0!==arguments[3]&&arguments[3],A=arguments.length>4?arguments[4]:void 0,T=arguments.length>5?arguments[5]:void 0,M=(0,C.h)(),O=(0,P.b)(),{countryCode:q}=(0,j.Q)(),[L,_]=(0,c.Z)(),{t:U}=(0,d.$)(),V=(0,i.useRouter)(),Z=I(),B=(0,N.ev)(),z=(0,E.D)(),[F,H]=(0,s.useState)({}),W=(null==V?void 0:V.pathname)==="/shopping-cart",$=(null===(k=L[w.d0])||void 0===k?void 0:k.toUpperCase())||(null==A?void 0:null===(D=A.territoryId)||void 0===D?void 0:D.toUpperCase())||q,G=e=>{let t=(0,b.PM)();e.forEach(e=>{_(e.name,e.value,{path:e.path,secure:e.secure,domain:t})})},Y=async e=>{let t=await (0,a.to)(),r=(null==t?void 0:t.lineItems.map(e=>{var t,r;return{Id:e.id,ProductId:null===(r=e.custom)||void 0===r?void 0:null===(t=r.fields)||void 0===t?void 0:t.alamy_assetId,ProductType:(0,x.Wv)(e)?v.C0.Video:v.C0.Image}}))||[],n={OrderId:(null==t?void 0:t.id)||"",LangCode:O,CountryCode:$||"",Items:r,PurchaseOrderRef:(null==e?void 0:e.reference)||"",Comments:(null==e?void 0:e.comment)||""};(null==e?void 0:e.adClientId)&&_(m.Xc,e.adClientId),(null==e?void 0:e.reference)&&_(m.WM,e.reference),(await (0,h.VC)(M)(n)).success&&t&&(await (0,a.Gs)(t),window.location.href=(0,p.q)(p.A.DownloadedImages,O),(0,f.Tj)(T))},X=async(t,a,i)=>{var s,c,d,u,p,v,x;let C;let E=R?e:a,N={isBot:z,locale:O,seqOrRef:(null==E?void 0:null===(s=E.altids)||void 0===s?void 0:s.seq)||""},{data:j}=await (0,h.wv)(M)(N,!1);if((null==E?void 0:E.type)===o.ProductType.Video){let e={videoId:null!==(d=null==E?void 0:null===(c=E.altids)||void 0===c?void 0:c.id)&&void 0!==d?d:"",projectReference:t.reference,comments:t.comment};C=await (0,h.AI)(M)(e)}else{let e=(0,l.parse)(L[w.mh]||""),r=w.wC.map(t=>t===w.n2?(0,b.SS)(e[w.eI],e[w.Qy]):e[t]||""),a={imageId:(null==E?void 0:null===(u=E.altids)||void 0===u?void 0:u.id)||"",imageRef:(null==E?void 0:null===(p=E.altids)||void 0===p?void 0:p.ref)||"",isVector:(null==E?void 0:null===(v=E.meta)||void 0===v?void 0:v.picturetype)===o.PictureType.Vector,isLibraryDownload:(null==E?void 0:E.apaLib)===n.ApaLib.LIBRARY,langCode:O,countryCode:$,imageBin:(null==j?void 0:j.renditions)?(0,y.Z2)(j.renditions):0,isNews:(null==E?void 0:E.isNews)||!1,userComments:t.comment||"",projectRef:t.reference||"",iqExtraDetailDesc:!t.reference&&S(t)||"",authOcd:(null==i?void 0:i.value)||L.AuthOCD||(null==F?void 0:F.value),pageNo:"".concat((0,b.rg)(V)),searchNo:Z.id||"",isIntranet:B,licenseType:null==E?void 0:null===(x=E.meta)||void 0===x?void 0:x.licencetype,adClientId:t.adClientId||"",searchId:r.join("")};t.adClientId&&_(m.Xc,t.adClientId),t.reference&&_(m.WM,t.reference),C=await (0,h.GN)(M)(a)}C.availableForDownload&&((0,g.E)(C.downloadUrl),r(!1),(0,f.ZA)(e),H({}))},Q=async e=>{let a={userId:null==A?void 0:A.id,authOcd:L.AuthOCD||null,downloadType:"image",isIntranet:B};if(!L.AuthOCD){t(!0);return}if((await (0,h.uT)(M)(a)).showPasswordPrompt)t(!0);else{if(R||(null==e?void 0:e.restriction)||(null==e?void 0:e.isNews)){r(!0);return}W?await Y():await X({},e,{value:L.AuthOCD})}};return{passwordConfirmationSubmitHandler:async(a,n)=>{let o={userId:((null==A?void 0:A.id)||"").toUpperCase(),cid:null,password:a[u.e],downloadType:"image"};try{let a=await (0,h.ZY)(M)(o);if(a.cookies){if(t(!1),G(a.cookies),R||(null==e?void 0:e.restriction)||(null==e?void 0:e.isNews)){r(!0),H(a.cookies.find(e=>"AuthOCD"===e.name));return}W?await Y():await X({},e,a.cookies.find(e=>"AuthOCD"===e.name))}}catch(e){n(u.e,{type:"value",message:U("enterprise-search.password-confirmation-prompt.incorrect-password")})}},downloadImageSubmitHandler:X,verifySession:Q,createBDOHandler:Y}}},23080:function(e,t,r){"use strict";r.d(t,{Q:function(){return o}});var a=r(67294),n=r(78429);let o=()=>(0,a.useContext)(n.Y).layoutData},16321:function(e,t,r){"use strict";r.d(t,{e:function(){return v}});var a=r(82729),n=r(85893),o=r(67294),i=r(26793),l=r(49782),s=r(19473);let c=(e,t)=>t<3?"...":e.length>t?"".concat(e.slice(0,t-3).trim()).concat("..."):e;var d=r(61802),u=r(12421),m=r(62852);function p(){let e=(0,a._)(["lightbox.view-lightbox"]);return p=function(){return e},e}let h=e=>{let{lightbox:t}=e,{t:r}=(0,i.$)();return(0,n.jsxs)("div",{className:"flex flex-col items-start",children:[c(r("lightbox.save-success-toast",{lightboxName:t.name}),31),(0,n.jsx)("a",{href:"".concat((0,u.W)(u.A.LightboxDetails),"?lbId=").concat(t.id),className:"highlighted-link",children:r(p())})]})},v=()=>{let{showToast:e}=(0,m.e)(),{lightboxes:t,setLightboxes:r}=(0,o.useContext)(l.tP),a=(0,d.h)(),i=t=>{e((0,n.jsx)(h,{lightbox:t}),{style:m.j.Success})},c=async()=>r(await (0,s.RK)(a)());return{currentLightbox:t.find(e=>e.isCurrent),lightboxes:t,updateLightboxes:c,addToLightbox:async(e,t)=>(i(await (0,s.S7)(a)(e,t)),c()),createNewLightboxWithProduct:async(e,t)=>(i(await (0,s.Rg)(a)(e,t)),c())}}},37087:function(e,t,r){"use strict";r.d(t,{$:function(){return o}});var a=r(67294),n=r(87636);let o=()=>{let[e,t]=(0,a.useState)(!1),r=async r=>{if(!e){t(!0);try{await r()}catch(e){(0,n.S3)(e),t(!1)}t(!1)}};return[e,r]}},13990:function(e,t,r){"use strict";r.d(t,{f:function(){return u}});var a=r(67294),n=r(10708),o=r(50408),i=r(40058),l=r(3685),s=r(4082),c=r(35804),d=r(15798);let u=e=>{let t=(0,d.a)(),r=(0,s.b)(),{countryName:u}=(0,c.m)(),{isPPMEnabled:m}=(0,a.useContext)(o.T),[p]=(0,n.Z)([l.B$,l.iZ]);return("true"===p.isPPMEnabled||m)&&!u&&(0,i.Z)(r,t,e,p)}},62852:function(e,t,r){"use strict";r.d(t,{e:function(){return o},j:function(){return n.jf}});var a=r(67294),n=r(44647);let o=()=>(0,a.useContext)(n.rZ)},13633:function(e,t,r){"use strict";r.d(t,{AI:function(){return Y},GN:function(){return $},Lm:function(){return z},PN:function(){return X},SE:function(){return k},SF:function(){return D},Tm:function(){return M},V7:function(){return V},VC:function(){return G},ZY:function(){return W},bE:function(){return F},dy:function(){return B},ew:function(){return R},fR:function(){return P},kq:function(){return Q},n6:function(){return _},pc:function(){return L},s3:function(){return O},tN:function(){return Z},uM:function(){return U},uT:function(){return H},uX:function(){return q},wv:function(){return j}});var a=r(84173),n=r(83109),o=r(56647),i=r(31955),l=r(36235),s=r(79485),c=r(79555),d=r(84115),u=r(55406),m=r(11237),p=r(53316),h=r(82294),v=r(87636),f=r(98173),g=r(35974),y=r(86898),w=r(37669),b=r(2841);let x="15D043F6-DA10-4BD3-9105-F1A5076E2867",C=(e,t)=>{let{locale:r,isBot:a,type:n,geo:o,page:i,pn:s,ps:u,nasty:m,editorial:h,lightbox:v,rmuid:f,translate:y,sessionid:w,offset:x,hidecontributor:C,social:E}=t,N=l.Yz.reduce((t,r)=>{let a=e[r],n=r===g.A6&&Array.isArray(a)&&a.map(e=>"USA"===e?"us":e.toLowerCase()).join(","),o="ethnicity"===r&&Array.isArray(a)&&a.join(",");return Array.isArray(a)?{...t,[r]:n||o||a.join(",")}:t},e),j=Number(null==N?void 0:N.imgt)===p.lJ.AllImages;return{...N,[g.D2]:v?void 0:N[g.D2],qt:(0,b.ZG)(N.qt),hc:(0,d.Ey)(N.hc,"5"),frrate:(0,d.Ey)(N.frrate,"50"),res:(0,d.Ey)(N.res,"4k"),durend:(null==N?void 0:N.durend)>=c.AW?c.t:null==N?void 0:N.durend,imgt:j?void 0:N.imgt,langcode:r,isbot:a,type:n,geo:o,pn:s||i,ps:u,page:void 0,nasty:m,editorial:h,lightbox:v,rmuid:f,translate:y,sessionid:w,offset:x,ispartial:!0,hidecontributor:(null==C?void 0:C.join(","))||void 0,social:E}},E=(e,t)=>{let{locale:r,geo:n,page:o,pn:s,ps:c,nasty:u,editorial:m,lightbox:h,sessionid:v,rmuid:f,social:w,hidecontributor:C,isBot:E,cookies:N}=t,j=l.Yz.reduce((t,r)=>{let a=e[r];return Array.isArray(a)?{...t,[r]:a.join(",")}:t},e),P=Number(null==j?void 0:j.imgt)===p.lJ.AllImages,k=Array.isArray(C)?[...C]:[];0!==e.paimages||k.includes(x)||k.push(x);let I=k.length>0?k.join(","):void 0,S={...j,[g.D2]:h?void 0:j[g.D2],qt:(0,b.ZG)(j.qt),hc:(0,d.Ey)(j.hc,"5"),imgt:P?void 0:j.imgt,langcode:r,geo:n,pn:s||o,ps:c,page:void 0,nasty:u,editorial:m,sessionid:v,rmuid:f,social:w,hideContributor:I,isbot:E},D=(0,a.getV1ToV2Params)(S),R=i.Z.get("minScore"),A=i.Z.get("disableRerank"),T=(0,y.Mz)(N),M=T&&T!==y.zT.OS_INTERNAL;return{...D,count:!0,...R&&{minScore:R},..."true"===A&&{disableRerank:!0},...M&&{searchVariant:T},...e.lexical&&{lexical:!0}}},N=e=>{let{locale:t,isBot:r,ps:a,pn:n,productType:o,isProductUI:i}=e;return{lan:t,bot:r,ps:a,pn:n,type:o,isProductUI:i}},j=e=>function(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.get("products/".concat(t.seqOrRef),{params:N({...t,isProductUI:!0}),...r?{}:{validateStatus:null}})},P=e=>async(t,r)=>{try{return(await e.post("products/aggregate",t,r)).data}catch(e){throw Error(e.message)}},k=e=>function(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.get("products/".concat(t.seqOrRef),{params:N({...t,productType:n.ProductType.Video,isProductUI:!0}),...r?{}:{validateStatus:null}})},I=(e,t,r,a)=>{let{audienceType:n,silo:o,hideDataco:i,customScheme:l}=e;return r?{nasty:a,editorial:Number(t||"MarketAddressable"===n)||void 0,bespoke:o||void 0,paut:Number(!t&&i)||void 0,nu:Number(!t&&"NovelUse"===l)||void 0,mr:Number(!t&&("ModelReleaseDefaultOn"===l||"MRAndPRDefaultOn"===l))||void 0,pr:Number(!t&&"MRAndPRDefaultOn"===l)||void 0,lic:Number(!t&&"ShowRFOnly"===l)||void 0}:{nasty:a}},S=(e,t)=>{let{headline:r,audienceType:o,silo:i,hideDataco:l,customScheme:s,isUserLoggedOut:c,isbot:d}=e,u=t===n.ProductType.Picture,m=(0,a.getSimilarImagesQueryTerms)(r||"",u?void 0:4),p=I({audienceType:o,silo:i,hideDataco:l,customScheme:s},d,u,d||c?0:void 0),h={qt:m,...e,...p};return(0,a.getV1ToV2Params)(h)},D=e=>async function(t,r){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,y.qo)(null==r?void 0:r.cookies,t.isBot),{locale:l,isBot:s}=t,c=N({...t,ps:(null==t?void 0:t.ps)||("de"===l&&s?25:13),pn:(null==t?void 0:t.pn)||1}),d=c.type||n.ProductType.Picture,u=d===n.ProductType.Picture&&(null==r?void 0:r.imgt)?{imgt:null==r?void 0:r.imgt}:{},{geo:m,headline:p,user:h,isSSR:g}=r||{},b={...c,geo:m||"GB",headline:p||"",type:d,langcode:c.lan,audienceType:null==h?void 0:h.audienceType,silo:null==h?void 0:h.silo,hidePA:null==h?void 0:h.hidePA,hideDataco:null==h?void 0:h.hideDataco,customScheme:null==h?void 0:h.customScheme,...u,isSSR:!!g,isbot:c.bot,isUserLoggedOut:null==r?void 0:r.isUserLoggedOut},x="v2"===i?S(b,d):b;try{let r=(await e.get("/".concat(i,"/search/").concat(t.seqOrRef,"/similar/"),{timeout:a?150:0,params:x})).data;return{similarProducts:d===n.ProductType.Picture?(0,w.px)(null==r?void 0:r.items,c.lan,!0):(0,w.Bh)(null==r?void 0:r.items),totalMatches:(null==r?void 0:r.totalMatches)||0}}catch(r){let e=r.response;return a&&r.code===f.SM.RequestTimeout?(0,v.S3)(new f.bW(t.seqOrRef),!1):e&&e.status===o.W.TOO_MANY_REQUESTS?(0,v.S3)(new f.uu(t.seqOrRef),!1):(0,v.S3)(r),null}},R=e=>async(t,r)=>{try{return(await e.get("products/".concat(t.seqOrRef,"/same-contributor/"),{params:{...N(t),qt:r}})).data}catch(e){throw Error(e.message)}},A=e=>async(t,r)=>{try{return(await e.get("lightboxes/".concat(t),{params:r})).data}catch(e){throw Error(e.message)}},T=e=>"v2"===(0,y.qo)(e.cookies,e.isBot)&&(null==e?void 0:e.type)!==n.ProductType.Video,M=e=>async(t,r)=>{try{let a=(await Promise.allSettled(t.map(t=>A(e)("".concat(t.lightboxId),{...r,ps:t.numberOfImages})))).map(e=>"rejected"===e.status?null:e.value).filter(e=>null!==e);if(!a.length)throw Error("No lightboxes were found");return a}catch(e){throw Error(e.message)}},O=e=>async(t,r)=>{let{locale:a,isBot:n,type:o}=r;try{return(await e.get("products",{params:{...t,lan:a,bot:n,type:o}})).data.items}catch(e){throw Error(e.message)}},q=e=>async(t,r)=>{try{let a=T(r),n=a?E(t,r):C(t,r);return(await e.get("".concat(a?"v2":"v1","/search"),{params:n})).data}catch(e){throw Error(e.message)}},L=e=>async t=>{try{return(await Promise.all(t.map(t=>e.get("v1/search",{params:C(t.queryParams,t.searchParams)})))).map((e,r)=>({searchQuery:t[r].searchQuery,response:e.data}))}catch(e){throw Error(e.message)}},_=e=>async(t,r)=>{try{if(T(r)){let{libraryCount:a,discountCount:n}=(await e.get("v2/search",{params:{...E(t,r)}})).data;return[{totalMatches:a},{totalMatches:n}]}return(await e.get("v1/search/images-library-count",{params:C(t,r)})).data}catch(e){throw Error(e.message)}},U=e=>async function(t,r){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{return(await e.get("v1/search/suggest",{params:{qt:t,lan:r,related:a}})).data}catch(e){throw Error(e.message)}},V=e=>async(t,r)=>{let a={imageId:t.imageid||"",altRef:r,pageNumber:Number(t.pn),searchQuery:t.srch,searchId:t.searchId};try{await e.post("rankmeasures",{...a})}catch(e){(0,v.S3)(e)}},Z=e=>async(t,r,a)=>{try{let n=await Promise.resolve(q(e)({...r,[g.D2]:t},a));return{collectionType:t,items:(0,w.px)(n.items,a.locale),totalMatches:n.totalMatches}}catch(e){throw Error(e.message)}},B=e=>async(t,r,a)=>{try{let n=await Promise.resolve(q(e)({...r,[g.D2]:t},a));return{collectionType:t,item:(0,w.px)(n.items,a.locale)[0],totalMatches:n.totalMatches}}catch(e){throw Error(e.message)}},z=e=>async(t,r)=>{try{let[a,n,o,i]=await Promise.all([s.yl.Ultimate,s.yl.Vital,s.yl.Uncut,s.yl.Foundation].map(a=>q(e)({...t,[g.D2]:a},r)));return[{collectionType:s.yl.Ultimate,items:(0,w.px)(a.items,r.locale),totalMatches:a.totalMatches},{collectionType:s.yl.Vital,items:(0,w.px)(n.items,r.locale),totalMatches:n.totalMatches},{collectionType:s.yl.Uncut,items:(0,w.px)(o.items,r.locale),totalMatches:o.totalMatches},{collectionType:s.yl.Foundation,items:(0,w.px)(i.items,r.locale),totalMatches:i.totalMatches}]}catch(e){throw Error(e.message)}},F=e=>async(t,r)=>{let a=T(r)?"v2":"v1";return T(r)?(await e.get("".concat(a,"/search"),{params:{...E(t,r),agencySearch:!0}})).data:(await e.get("v1/search/agencies",{params:C(t,r)})).data},H=e=>async t=>{try{return(await e.post("showPrompt",t)).data}catch(e){throw Error(e.message)}},W=e=>async t=>{try{return(await e.post("verifyUserPassword",t)).data}catch(e){throw Error(e.message)}},$=e=>async t=>{try{return(await e.post("downloadProcessing",t)).data}catch(e){throw Error(e.message)}},G=e=>async t=>{try{return(await e.post("downloadProcessing/createBulkDownloadOrder",t)).data}catch(e){throw Error(e.message)}},Y=e=>async t=>{try{try{return(await e.get("downloadProcessingVideo",{params:t})).data}catch(e){throw Error(e.message)}}catch(e){throw Error(e.message)}},X=async(e,t)=>{let r=[];for(let i=0;i<e.length;i+=t){let l=e.slice(i,i+t);try{var a,n,o;let e=await fetch("".concat(null===(a=(0,u.b)())||void 0===a?void 0:a.bulkApiUrl,"/products/v1/?ids=").concat(l.join(","),"&langcode=en"));if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let t=await e.json();null==t||null===(o=t.data)||void 0===o||null===(n=o.items)||void 0===n||n.map(e=>r.push({assetType:"image",assetId:e.ImageId,assetRef:e.ImageRef,assetSeq:e.ImageSeq,licenseType:e.LicenseType,isEditorialOnly:e.IsEditorialOnly,geoRestrictions:e.GeoRestrictions||[],assetStatus:e.ImageStatus,searchCollectionId:e.SearchCollectionId}))}catch(e){console.error("Error processing chunk starting at index ".concat(i,":"),e)}}return r},Q=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.M.MAIN,a=[];for(let n=0;n<e.length;n+=t){let o=e.slice(n,n+t);try{await Promise.all(o.map(e=>fetch("".concat((0,u.b)().apiUrl,"/products/").concat(e,"/?type=video&cartType=").concat(r)).then(e=>{if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return e.json()}).then(e=>{var t,r,n,o,i,l,s;a.push({assetType:e.type,assetSubType:e.renditions&&(0,h.MR)(Object.keys(e.renditions)),assetId:null===(t=e.altids)||void 0===t?void 0:t.id,assetRef:null===(r=e.altids)||void 0===r?void 0:r.ref,assetSeq:null===(n=e.altids)||void 0===n?void 0:n.seq,licenseType:null===(o=e.meta)||void 0===o?void 0:o.licencetype,isEditorialOnly:null===(l=e.meta)||void 0===l?void 0:null===(i=l.restrictions)||void 0===i?void 0:i.restrictedForEditorialUse,assetStatus:null===(s=e.meta)||void 0===s?void 0:s.mediastatus,geoRestrictions:[]})})))}catch(e){console.error("Error processing video chunk starting at index ".concat(n,":"),e)}}return a}},68882:function(e,t,r){"use strict";r.d(t,{E:function(){return a}});let a=(e,t)=>{let r=document.createElement("a");r.href=e,r.type="hidden",r.download=t||e.split("/").pop()||"",document.body.appendChild(r),r.click(),document.body.removeChild(r)}},86898:function(e,t,r){"use strict";r.d(t,{Mz:function(){return s},qo:function(){return l},zT:function(){return n}});var a,n,o=r(31955),i=r(55406);(a=n||(n={})).OS_LEXICAL="1",a.OS_HYBRID_PERFORMANCE_IMPROVED="2",a.OS_HYBRID_HIGH_QUALITY="3",a.OS_INTERNAL="true";let l=(e,t)=>{if(!(0,i.b)().isOpenSearchResultsEnabled)return"v1";let r=o.Z.get("isOpenSearchResultsEnabled"),a=String(null==e?void 0:e.isOpenSearchResultsEnabled),l=Object.values(n).some(e=>r===e||a===e);return t?"true"===r||"true"===a?"v2":"v1":l?"v2":"v1"},s=e=>{if(!(0,i.b)().isOpenSearchResultsEnabled)return;let t=o.Z.get("isOpenSearchResultsEnabled"),r=String(null==e?void 0:e.isOpenSearchResultsEnabled);return Object.values(n).find(e=>t===e||r===e)}},85950:function(e){e.exports={modal:"Modal_modal__JNobJ",large:"Modal_large__NOtL4"}},51624:function(e){e.exports={zoom:"OverlayComponent_zoom__KclRJ","slide-top-out":"OverlayComponent_slide-top-out__uJm4t"}}}]);